################ "Transfer to app.py" ########################
################ "Transfer to app.py" ########################
################ "Transfer to app.py" ########################
################ "Transfer to app.py" ########################



st.markdown(f"""
    <style>
    /* 1. Background image for the app - Updated for movement/zoom */
    [data-testid="stApp"] {{
        background-image: url("data:image/jpeg;base64,{bg_img_b64}");
        
        /* 'cover' ensures the image stretches to fill the space without gaps */
        background-size: cover;
        
        /* 'center' ensures the zoom originates from the middle of the image */
        background-position: center center;
        
        /* 'fixed' keeps the image in place while content scrolls over it */
        background-attachment: fixed;
        
        background-repeat: no-repeat;
    }}

    /* Hide default Streamlit header */
    [data-testid="stHeader"] {{
        visibility: hidden;
    }}

    /* 2. Main container (Centered) */
    [data-testid="stAppViewBlockContainer"] {{
        width: 95%; /* Ensures it doesn't hit screen edges when zoomed */
        max-width: 850px;
        margin-left: auto;
        margin-right: auto;
        padding-top: 12rem;
        padding-bottom: 5rem;
        
        /* Box background */
        background-color: rgba(255, 255, 255, 0.9); 
        padding-left: 40px;
        padding-right: 40px;
        border-radius: 20px;
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
        margin-top: 50px;
        margin-bottom: 50px;
        
        color: black !important;
    }}

    /* Target all headers, labels, and standard text to be BLACK */
    h1, h2, h3, p, label, .stMarkdown, [data-testid="stMarkdownContainer"] p {{
        color: black !important;
    }}

    /* 3. Top corner header styling */
    .top-header {{
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 70px;
        background-color: white;
        display: flex;
        align-items: center;
        padding: 0 40px;
        border-bottom: 3px solid #87b97b;
        z-index: 9999;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }}

    .logo-img {{
        height: 45px;
        margin-right: 20px;
    }}

    .header-label {{
        font-weight: bold;
        color: black !important;
        font-family: 'Segoe UI', sans-serif;
        font-size: 1.2rem;
    }}

    .main-title {{ 
        font-size: 28px; 
        font-weight: bold; 
        color: black !important; 
        text-align: center; 
        margin-bottom: 30px; 
    }}
    
    .stFileUploader {{
        text-align: center;
        color: black !important;
    }}

    [data-testid="stFileUploadDropzone"] div {{
        color: black !important;
    }}

    /* Table styling */
    th {{
        background-color: #1E3A8A !important;
        color: white !important; 
        font-weight: bold !important;
        text-align: center !important;
    }}
    
    td {{
        color: black !important;
    }}
    
    /* Button styling */
    .stButton>button {{ 
        background-color: #1E3A8A; 
        color: white !important; 
        border-radius: 10px; 
        font-weight: bold; 
    }}
    </style>

    <div class="top-header">
        <img src="data:image/png;base64,{img_b64}" class="logo-img">
        <div class="header-label">City Health Office | Records Standardizer</div>
    </div>
    """, unsafe_allow_html=True)